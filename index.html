<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Mapping the Refugee Crisis</title>

    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,400i,700,800" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700,800" rel="stylesheet">

    <!-- CSS libraries -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.4.0/nouislider.css" integrity="sha512-DGB74Gyw93qON+V0QxSRs1er6sqoPyFoy23HBL5LN7MRJBcjeCU22zega+vOEGE0XQLoVrv4ExcaesSTwZQA2w==" crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <!-- fullpage.js css -->
    <link rel="stylesheet" type="text/css" href="css/fullpage/fullpage.css" />

    <!-- AOS css -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="css/aos-delays.css">

    <!-- Custom CSS code -->
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <div id="fullPage">

        <div class="section">
            <video id="video" loop muted data-autoplay playsinline>
                <source src="img/title.mp4" type="video/mp4">
            </video>
            <div class="layer">
                <div class="box">
                    <h1>Mapping the Refugee Crisis</h1>
                </div>
            </div>    
        </div>
   
        <div class="section style1">
            <h1 class="slide-text">
                <span>
                    As of May 2023, over 110 million people were living forcibly displaced from their home, due to conflict, persecution, or violence. 
                </span>
                <br>
                <br>
                <div data-aos="fade-up" data-aos-delay="1000">
                    <span>
                        That's 1 of every 74 people on our planet.
                    </span>
                    <img id="visual" src="img/visual.png"/>
                </div>
            </h1>
        </div>
   
        <div class="section style2">
            <h1 class="slide-text">
                <div>
                    <span>
                        This marks the largest ever single-year increase in forced displacement in UNHCR’s history.
                    </span>
                </div>
                <br>
                <span data-aos="fade-up" data-aos-delay="1500">
                    But what do you know about refugees and displaced peoples in our world?  
                </span>
                <br>
                <span data-aos="fade-up" data-aos-delay="1500">
                    And can you do anything about it?
                </span>
                <br>
                <br>
                <span data-aos="fade-up" data-aos-delay="2500">
                    Let's find out.
                </span>
            </h1>
        </div>
   
        <div class="section style1">
            <h1 class="slide-text">
                <span>
                    Take your best guess: where is the home country of the most refugees right now?
                </span>
            </h1>
            <div class="row form-group guess-section">
                <div class="col-auto">
                    <select class="form-control" id="guess" placeholder="Country">
                        <option value="" disabled selected>Country</option>
                    </select>
                </div>
                <div class="col-auto">
                    <button class="btn" type="submit" id="guess-button" onclick="checkAnswer()">Submit</button>
                </div>
            </div>
            <div class="row">
                <div id="warning"></div>
            </div>
        </div>

        <div class="section style1">
            <div class="row" id="answer"></div>
            <div class="row" id="temp-text">
                <h1 class="slide-text">Submit an answer above to see the line graph</h1>
            </div>
           
            <div class="row" id="linegraph-section">
                <div class="row" id="linevis"></div>
                <div class="row" style="width: 75vw">
                    <p>*The United Nations High Commissioner for Refugees (UNHCR) is a UN agency dedicated to international action to protect refugees, forcibly displaced communities, and stateless people. When a refugee is under the mandate of the UNHCR, it means they are recognized by the UNHCR as someone who has fled their home country due to a well-founded fear of persecution, conflict, violence, or other threats to their safety or human rights. Being under the UNHCR mandate grants certain protections and services such as legal assistance, education, and housing.</p>
                </div>
            </div>
        </div>

        <div class="section style2 container-fluid">
            <div class="row">
                <div class="col-md-12 heading">
                    <h2>The number of Syrian refugees has been the highest every year since 2018. This might be surprising, since it hasn’t been mentioned in the recent news as frequently, and especially not in the headlines.</h2>
                </div>
            </div>
        </div>
   
        <div class="section style2">
            <h1 class="slide-text">
                <span>
                    What about this:
                </span>
                <br>
                <br>
                <span data-aos="fade-up" data-aos-delay="500">Which country accepts the most applications from asylum seekers?</span>
            </h1>
        </div>

        <div class="section style2">
            <h1 class="slide-text">
                <span>
                    Actually, it's Germany.
                </span>
            </h1>
            <div class="row" data-aos="fade-up" data-aos-delay="300">
                <div class="col-7">
                    <div id="bubblevis"></div>
                </div>
                <div class="col-4">
                    <p>Here are the home countries of refugees since 2018.</p>
                </div>
            </div>
        </div>

        <div class="section style2">
            <h1 class="slide-text">
                <span>
                    This might be surprising compared to which countries have the most resources. 
                </span>
            </h1>
            <div class="row">
                <div class="col-8">
                    <div id="scattervis"></div>
                </div>
                <div class="col-2">
                    <p>
                        <span>
                            Here’s how the asylum acceptances of different countries compare with their GDP (Gross Domestic Product in U.S. Dollars, a measure of the market value of a country's total goods and services):
                        </span>
                        <br>
                        <span>
                            Which countries are surprising?
                        </span>
                    </p>
                    <h4>Toggle to see more relationships with asylum acceptances:</h4>
                    <select id="select-box" class="form-control rounded" onchange="categoryChange()">
                        <option value="gdp">GDP (in USD)</option>
                        <option value="growth">GDP Growth (Annual %)</option>
                        <option value="population">Total Population</option>
                        <option value="pop_growth">Population Growth (Annual %)</option>
                        <option value="pop_density">Population Density (2021)</option>
                    </select>
                </div>
            </div>
        </div>
   
        <div class="section style2">
            <div class="row">
                <h1 class="slide-text">Explore the map for yourself</h1>
            </div>
            <div class="row map-page">
                <div class="row" id="map-filters">
                    <div class="btn-group col-auto map-filter">
                        <a class="btn btn-primary map-button active" onclick="activateButton(this)">Country of origin</a>
                        <a class="btn btn-primary map-button" onclick="activateButton(this)">Country of asylum</a>
                    </div>
                    <div class="col-auto map-filter">
                        <div class="form-group">
                            <select class="form-control" id="attribute" onchange="updateMap()">
                                <option value="Refugees under UNHCR's mandate">Refugees under UNHCR's mandate</option>
                                <option value="IDPs of concern to UNHCR">IDPs of concern to UNHCR</option>
                                <option value="Others of concern">Others of concern</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-auto map-filter">
                        <div class="range-slider-value"></div>
                        <div id="time-period-slider"></div>
                        <div class="range-slider-value"></div> 
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-9">
                        <div id="mapvis"></div>
                    </div>
                    <div class="col-md-3">
                        <div id="country-info">Click a country to learn more</div>
                    </div>
                </div>
            </div>
        </div>
   
        <div class="section style2 container-fluid">
            <h3>
                Sources: 
            </h3>
            <ul>
                <li>UNHCR Data: <a href="https://www.unhcr.org/refugee-statistics/">https://www.unhcr.org/refugee-statistics/</a></li>
                <li>World Bank Data: <a href="https://data.worldbank.org/">https://data.worldbank.org/</a></li>
            </ul>
        </div>
    </div>

<!-- Load JS libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.4.0/nouislider.min.js"
        integrity="sha512-mZXUH8DAODwCHioWP3gltQwa953LbABMlzTYwYkKqv8eNxOk37B1HgNNuCMfFxgrpW5C34WJbxPDcM58+s1dJA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- d3 -->
<script src="https://d3js.org/d3.v7.min.js"></script>

<script src="https://d3js.org/topojson.v2.min.js"></script>
<script src="https://d3js.org/d3-geo.v1.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>


<!-- fullpage.js -->
<script type="text/javascript" src="js/fullpage/fullpage.js"></script>

<script>
    new fullpage('#fullPage', {
        licenseKey: 'gplv3-license',
        autoScrolling: true,
        navigation: true,
        anchors: ["section1", "section2", "section3", "section4", "section5", "section6", "section7", "section8", "section9", "section10", "section11"],
        navigationTooltips: ['Home', '1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11'],
        css3: false,
        afterLoad: function (origin, destination, direction, trigger) {
            // Necessary for AOS to work:
            // https://github.com/michalsnik/aos/issues/490
            document.querySelectorAll('.fp-table.active .aos-init').forEach((el) => {
                el.classList.add('aos-animate')
            })
        },
    });
</script>

<!--Animate On Scroll -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

<script>
    AOS.init();
</script>

<!-- Visualization objects -->
<script src="js/mapvis.js"></script>
<script src="js/bubblevis.js"></script>
<script src="js/linevis.js"></script>
<script src="js/scattervis.js"></script>

<!-- Load data, create visualizations -->
<script src="js/main.js"></script>
</body>
</html>
